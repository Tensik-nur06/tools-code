<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ò–≥—Ä–∞: –ö–∏–±–µ—Ä–º–µ–Ω–µ–¥–∂–µ—Ä | –û—Å–Ω–æ–≤—ã –∫–∏–±–µ—Ä–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;500;700;800&family=Share+Tech+Mono&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary-dark: #0a0a14;
            --secondary-dark: #121225;
            --accent-neon: #39FF14;
            --accent-cyan: #00F0FF;
            --accent-purple: #9D4EDD;
            --accent-orange: #FFA500;
            --accent-red: #FF6B6B;
            --accent-pink: #FF4D9E;
            --accent-yellow: #FFD700;
            --accent-green: #00FF7F;
            --text-light: #F8F9FA;
            --text-gray: #CCCCCC;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            background-color: var(--primary-dark);
            color: var(--text-light);
            font-family: 'Share Tech Mono', monospace;
            overflow-x: hidden;
            min-height: 100vh;
            background-image: 
                linear-gradient(to bottom, rgba(9, 2, 26, 0.9), rgba(9, 2, 26, 0.95)),
                url("data:image/svg+xml,%3Csvg width='40' height='40' viewBox='0 0 40 40' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M0 0h40v40H0V0zm1 1h38v38H1V1z' fill='%2300f0ff' fill-opacity='0.05' fill-rule='evenodd'/%3E%3C/svg%3E");
        }

        /* Animated scan lines */
        .scan-lines {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(
                to bottom,
                transparent 50%,
                rgba(0, 240, 255, 0.03) 50%
            );
            background-size: 100% 4px;
            pointer-events: none;
            z-index: -1;
            animation: scan 10s linear infinite;
        }

        @keyframes scan {
            0% { transform: translateY(0); }
            100% { transform: translateY(4px); }
        }

        /* Header */
        header {
            padding: 1.5rem 2rem;
            border-bottom: 3px solid var(--accent-neon);
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            box-shadow: 0 0 20px rgba(57, 255, 20, 0.2);
            background: rgba(10, 10, 20, 0.95);
            backdrop-filter: blur(10px);
            position: relative;
            z-index: 100;
        }

        .logo-container {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .logo {
            width: 50px;
            height: 50px;
            position: relative;
            image-rendering: pixelated;
        }

        .logo-inner {
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, var(--accent-neon), var(--accent-cyan));
            clip-path: polygon(20% 0%, 80% 0%, 100% 20%, 100% 80%, 80% 100%, 20% 100%, 0% 80%, 0% 20%);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            font-weight: 800;
            color: var(--primary-dark);
            font-family: 'Orbitron', sans-serif;
            text-shadow: 2px 2px 0px var(--accent-purple);
            animation: pulse 4s infinite;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        .logo-text {
            font-family: 'Orbitron', sans-serif;
            font-size: 1.5rem;
            font-weight: 800;
            background: linear-gradient(to right, var(--accent-neon), var(--accent-cyan));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            text-shadow: 0 0 10px rgba(57, 255, 20, 0.3);
            letter-spacing: 1px;
        }

        /* Game Container */
        .game-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem;
            display: grid;
            grid-template-columns: 300px 1fr;
            gap: 2rem;
            min-height: calc(100vh - 150px);
        }

        /* Game Stats */
        .game-stats {
            background: rgba(18, 18, 37, 0.8);
            border: 2px solid var(--accent-cyan);
            border-radius: 10px;
            padding: 1.5rem;
            display: flex;
            flex-direction: column;
            gap: 1.5rem;
        }

        .stat-item {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
        }

        .stat-label {
            color: var(--accent-cyan);
            font-family: 'Orbitron', sans-serif;
            font-size: 0.9rem;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .stat-value {
            font-size: 1.2rem;
            font-weight: bold;
            color: var(--text-light);
        }

        .stat-bar {
            height: 10px;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 5px;
            overflow: hidden;
            margin-top: 0.5rem;
        }

        .stat-fill {
            height: 100%;
            transition: width 0.5s ease;
        }

        .budget .stat-fill { background: var(--accent-green); }
        .security .stat-fill { background: var(--accent-neon); }
        .reputation .stat-fill { background: var(--accent-yellow); }
        .productivity .stat-fill { background: var(--accent-cyan); }

        /* Game Content */
        .game-content {
            display: flex;
            flex-direction: column;
            gap: 1.5rem;
        }

        /* Game Header */
        .game-header {
            background: rgba(18, 18, 37, 0.8);
            border: 2px solid var(--accent-neon);
            border-radius: 10px;
            padding: 1.5rem;
            text-align: center;
        }

        .game-title {
            font-family: 'Orbitron', sans-serif;
            font-size: 2rem;
            margin-bottom: 0.5rem;
            background: linear-gradient(to right, var(--accent-neon), var(--accent-cyan));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .game-subtitle {
            color: var(--text-gray);
            font-size: 1rem;
        }

        /* Game Scenario */
        .game-scenario {
            background: rgba(18, 18, 37, 0.8);
            border: 2px solid var(--accent-purple);
            border-radius: 10px;
            padding: 1.5rem;
            flex-grow: 1;
        }

        .scenario-text {
            line-height: 1.6;
            margin-bottom: 1.5rem;
            color: var(--text-light);
        }

        .scenario-text .highlight {
            color: var(--accent-yellow);
            font-weight: bold;
        }

        /* Decision Cards */
        .decisions-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1rem;
            margin-top: 1.5rem;
        }

        .decision-card {
            background: rgba(10, 10, 20, 0.9);
            border: 2px solid var(--accent-orange);
            border-radius: 8px;
            padding: 1.5rem;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .decision-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(255, 165, 0, 0.2);
            border-color: var(--accent-yellow);
        }

        .decision-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, var(--accent-orange), var(--accent-yellow));
        }

        .decision-title {
            color: var(--accent-orange);
            font-family: 'Orbitron', sans-serif;
            font-size: 1.1rem;
            margin-bottom: 0.8rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .decision-description {
            color: var(--text-gray);
            font-size: 0.9rem;
            line-height: 1.4;
            margin-bottom: 1rem;
        }

        .decision-cost {
            color: var(--accent-red);
            font-family: 'Orbitron', sans-serif;
            font-size: 0.9rem;
            margin-bottom: 0.5rem;
        }

        .decision-impact {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
            margin-top: 0.5rem;
        }

        .impact-tag {
            background: rgba(57, 255, 20, 0.1);
            color: var(--accent-neon);
            padding: 0.2rem 0.6rem;
            border-radius: 12px;
            font-size: 0.8rem;
            border: 1px solid rgba(57, 255, 20, 0.3);
        }

        /* Game Log */
        .game-log {
            background: rgba(0, 0, 0, 0.7);
            border: 1px solid var(--accent-cyan);
            border-radius: 5px;
            padding: 1rem;
            max-height: 200px;
            overflow-y: auto;
            margin-top: 1rem;
        }

        .log-entry {
            padding: 0.5rem 0;
            border-bottom: 1px dashed rgba(0, 240, 255, 0.1);
            font-size: 0.9rem;
            line-height: 1.4;
        }

        .log-entry:last-child {
            border-bottom: none;
        }

        .log-time {
            color: var(--accent-cyan);
            font-family: 'Orbitron', sans-serif;
            margin-right: 0.5rem;
        }

        .log-positive { color: var(--accent-green); }
        .log-negative { color: var(--accent-red); }
        .log-neutral { color: var(--text-gray); }
        .log-warning { color: var(--accent-yellow); }

        /* Events */
        .event-popup {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: rgba(10, 10, 20, 0.95);
            border: 3px solid var(--accent-red);
            border-radius: 10px;
            padding: 2rem;
            width: 90%;
            max-width: 600px;
            z-index: 1000;
            display: none;
            animation: popupIn 0.3s ease;
            backdrop-filter: blur(10px);
        }

        @keyframes popupIn {
            from { opacity: 0; transform: translate(-50%, -60%); }
            to { opacity: 1; transform: translate(-50%, -50%); }
        }

        .event-header {
            text-align: center;
            margin-bottom: 1.5rem;
        }

        .event-icon {
            font-size: 3rem;
            color: var(--accent-red);
            margin-bottom: 1rem;
        }

        .event-title {
            font-family: 'Orbitron', sans-serif;
            font-size: 1.5rem;
            color: var(--accent-red);
            margin-bottom: 0.5rem;
        }

        .event-description {
            color: var(--text-light);
            line-height: 1.6;
            margin-bottom: 1.5rem;
        }

        .event-consequences {
            background: rgba(255, 107, 107, 0.1);
            border-left: 4px solid var(--accent-red);
            padding: 1rem;
            margin-bottom: 1.5rem;
            border-radius: 0 5px 5px 0;
        }

        .event-consequences h4 {
            color: var(--accent-red);
            margin-bottom: 0.5rem;
        }

        .event-button {
            display: block;
            width: 100%;
            padding: 1rem;
            background: linear-gradient(45deg, var(--accent-red), var(--accent-orange));
            color: var(--primary-dark);
            border: none;
            border-radius: 5px;
            font-family: 'Orbitron', sans-serif;
            font-size: 1.1rem;
            font-weight: bold;
            cursor: pointer;
            text-transform: uppercase;
            letter-spacing: 1px;
            transition: transform 0.3s;
        }

        .event-button:hover {
            transform: translateY(-3px);
        }

        /* CIA Analysis Tool */
        .analysis-tool {
            background: rgba(18, 18, 37, 0.9);
            border: 2px solid var(--accent-green);
            border-radius: 10px;
            padding: 1.5rem;
            margin-top: 1rem;
            display: none;
        }

        .analysis-title {
            color: var(--accent-green);
            font-family: 'Orbitron', sans-serif;
            font-size: 1.2rem;
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .cia-analysis {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 1rem;
            margin-bottom: 1.5rem;
        }

        .cia-item {
            background: rgba(0, 0, 0, 0.3);
            border-radius: 5px;
            padding: 1rem;
            text-align: center;
        }

        .cia-label {
            color: var(--accent-cyan);
            font-family: 'Orbitron', sans-serif;
            font-size: 0.9rem;
            margin-bottom: 0.5rem;
            text-transform: uppercase;
        }

        .cia-value {
            font-size: 2rem;
            font-weight: bold;
        }

        .cia-confidentiality { color: var(--accent-purple); }
        .cia-integrity { color: var(--accent-yellow); }
        .cia-availability { color: var(--accent-green); }

        .analysis-result {
            background: rgba(0, 0, 0, 0.5);
            border-radius: 5px;
            padding: 1rem;
            margin-top: 1rem;
            border-left: 4px solid var(--accent-green);
        }

        /* Game Over */
        .game-over {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: rgba(10, 10, 20, 0.95);
            border: 3px solid var(--accent-yellow);
            border-radius: 10px;
            padding: 2rem;
            width: 90%;
            max-width: 500px;
            z-index: 1000;
            display: none;
            animation: popupIn 0.3s ease;
            text-align: center;
            backdrop-filter: blur(10px);
        }

        .game-over-icon {
            font-size: 4rem;
            color: var(--accent-yellow);
            margin-bottom: 1rem;
        }

        .game-over-title {
            font-family: 'Orbitron', sans-serif;
            font-size: 2rem;
            color: var(--accent-yellow);
            margin-bottom: 1rem;
        }

        .game-over-score {
            font-size: 1.5rem;
            color: var(--text-light);
            margin-bottom: 1.5rem;
        }

        .restart-button {
            background: linear-gradient(45deg, var(--accent-yellow), var(--accent-orange));
            color: var(--primary-dark);
            border: none;
            padding: 1rem 2rem;
            font-family: 'Orbitron', sans-serif;
            font-size: 1.1rem;
            font-weight: bold;
            border-radius: 5px;
            cursor: pointer;
            text-transform: uppercase;
            letter-spacing: 1px;
            transition: transform 0.3s;
        }

        .restart-button:hover {
            transform: translateY(-3px);
        }

        /* Tutorial */
        .tutorial-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.8);
            z-index: 2000;
            display: none;
            align-items: center;
            justify-content: center;
        }

        .tutorial-box {
            background: rgba(18, 18, 37, 0.95);
            border: 3px solid var(--accent-cyan);
            border-radius: 10px;
            padding: 2rem;
            width: 90%;
            max-width: 600px;
            max-height: 80vh;
            overflow-y: auto;
        }

        .tutorial-title {
            color: var(--accent-cyan);
            font-family: 'Orbitron', sans-serif;
            font-size: 1.5rem;
            margin-bottom: 1rem;
            text-align: center;
        }

        .tutorial-step {
            margin-bottom: 1.5rem;
            padding-bottom: 1.5rem;
            border-bottom: 1px dashed rgba(0, 240, 255, 0.3);
        }

        .tutorial-step:last-child {
            border-bottom: none;
            margin-bottom: 0;
        }

        .step-title {
            color: var(--accent-neon);
            font-family: 'Orbitron', sans-serif;
            margin-bottom: 0.5rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .step-content {
            color: var(--text-light);
            line-height: 1.6;
        }

        .tutorial-buttons {
            display: flex;
            justify-content: center;
            gap: 1rem;
            margin-top: 2rem;
        }

        .tutorial-button {
            padding: 0.8rem 1.5rem;
            border: none;
            border-radius: 5px;
            font-family: 'Orbitron', sans-serif;
            font-weight: bold;
            cursor: pointer;
            text-transform: uppercase;
            letter-spacing: 1px;
            transition: transform 0.3s;
        }

        .tutorial-button.primary {
            background: linear-gradient(45deg, var(--accent-cyan), var(--accent-neon));
            color: var(--primary-dark);
        }

        .tutorial-button.secondary {
            background: transparent;
            border: 2px solid var(--accent-cyan);
            color: var(--accent-cyan);
        }

        .tutorial-button:hover {
            transform: translateY(-3px);
        }

        /* Responsive */
        @media (max-width: 1024px) {
            .game-container {
                grid-template-columns: 1fr;
            }
            
            .game-stats {
                order: 2;
            }
            
            .game-content {
                order: 1;
            }
        }

        @media (max-width: 768px) {
            header {
                flex-direction: column;
                gap: 1rem;
                text-align: center;
            }
            
            .logo-container {
                justify-content: center;
            }
            
            .decisions-grid {
                grid-template-columns: 1fr;
            }
            
            .cia-analysis {
                grid-template-columns: 1fr;
                gap: 0.5rem;
            }
        }
    </style>
</head>
<body>
    <!-- Animated scan lines -->
    <div class="scan-lines"></div>
    
    <!-- Header -->
    <header>
        <div class="logo-container">
            <div class="logo">
                <div class="logo-inner">C</div>
            </div>
            <div class="logo-text">–ö–ò–ë–ï–†–ú–ï–ù–ï–î–ñ–ï–†</div>
        </div>
        <div style="display: flex; gap: 1rem;">
            <button onclick="showTutorial()" class="nav-btn" style="background: transparent; border: 2px solid var(--accent-cyan); color: var(--accent-cyan); padding: 0.5rem 1rem; font-family: 'Share Tech Mono'; cursor: pointer; border-radius: 5px;">
                <i class="fas fa-question-circle"></i> –û–±—É—á–µ–Ω–∏–µ
            </button>
            <button onclick="restartGame()" class="nav-btn" style="background: var(--accent-orange); border: 2px solid var(--accent-orange); color: var(--primary-dark); padding: 0.5rem 1rem; font-family: 'Share Tech Mono'; font-weight: bold; cursor: pointer; border-radius: 5px;">
                <i class="fas fa-redo"></i> –ù–æ–≤–∞—è –∏–≥—Ä–∞
            </button>
        </div>
    </header>

    <!-- Game Container -->
    <div class="game-container">
        <!-- Game Stats -->
        <div class="game-stats">
            <div class="stat-item budget">
                <div class="stat-label">–ë–Æ–î–ñ–ï–¢</div>
                <div class="stat-value" id="budgetValue">‚ÇΩ 1,000,000</div>
                <div class="stat-bar">
                    <div class="stat-fill" id="budgetBar" style="width: 100%"></div>
                </div>
            </div>
            
            <div class="stat-item security">
                <div class="stat-label">–ë–ï–ó–û–ü–ê–°–ù–û–°–¢–¨</div>
                <div class="stat-value" id="securityValue">50%</div>
                <div class="stat-bar">
                    <div class="stat-fill" id="securityBar" style="width: 50%"></div>
                </div>
            </div>
            
            <div class="stat-item reputation">
                <div class="stat-label">–†–ï–ü–£–¢–ê–¶–ò–Ø</div>
                <div class="stat-value" id="reputationValue">100%</div>
                <div class="stat-bar">
                    <div class="stat-fill" id="reputationBar" style="width: 100%"></div>
                </div>
            </div>
            
            <div class="stat-item productivity">
                <div class="stat-label">–ü–†–û–ò–ó–í–û–î–ò–¢–ï–õ–¨–ù–û–°–¢–¨</div>
                <div class="stat-value" id="productivityValue">100%</div>
                <div class="stat-bar">
                    <div class="stat-fill" id="productivityBar" style="width: 100%"></div>
                </div>
            </div>
            
            <div class="stat-item">
                <div class="stat-label">–¢–ï–ö–£–©–ò–ô –ö–í–ê–†–¢–ê–õ</div>
                <div class="stat-value" id="quarterValue">Q1</div>
            </div>
            
            <div class="stat-item">
                <div class="stat-label">–î–û–°–¢–ò–ñ–ï–ù–ò–Ø</div>
                <div class="stat-value" id="achievementsValue">0/5</div>
            </div>
        </div>

        <!-- Game Content -->
        <div class="game-content">
            <!-- Game Header -->
            <div class="game-header">
                <h1 class="game-title">–°–ò–ú–£–õ–Ø–¢–û–† –ö–ò–ë–ï–†–ú–ï–ù–ï–î–ñ–ï–†–ê</h1>
                <p class="game-subtitle">–ü—Ä–∏–º–µ–Ω–∏—Ç–µ –∑–Ω–∞–Ω–∏—è –æ —Ç—Ä–∏–∞–¥–µ CIA, —É–ø—Ä–∞–≤–ª–µ–Ω–∏–∏ —Ä–∏—Å–∫–∞–º–∏ –∏ –∑–∞—â–∏—Ç–µ –≤ –≥–ª—É–±–∏–Ω—É –Ω–∞ –ø—Ä–∞–∫—Ç–∏–∫–µ</p>
            </div>

            <!-- Game Scenario -->
            <div class="game-scenario">
                <div class="scenario-text">
                    <h3 style="color: var(--accent-cyan); margin-bottom: 1rem;">–î–û–ë–†–û –ü–û–ñ–ê–õ–û–í–ê–¢–¨ –í TECHNO CORP!</h3>
                    
                    <p>–í—ã ‚Äî –Ω–æ–≤—ã–π <span class="highlight">—Ä—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª—å –æ—Ç–¥–µ–ª–∞ –∫–∏–±–µ—Ä–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏</span> –≤ —Ä–∞—Å—Ç—É—â–µ–π IT-–∫–æ–º–ø–∞–Ω–∏–∏ —Å 150 —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞–º–∏. 
                    –ö–æ–º–ø–∞–Ω–∏—è —Ä–∞–∑—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –º–æ–±–∏–ª—å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è –æ–Ω–ª–∞–π–Ω-–±–∞–Ω–∫–∏–Ω–≥–∞ –∏ —Ö—Ä–∞–Ω–∏—Ç —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∫–ª–∏–µ–Ω—Ç–æ–≤.</p>
                    
                    <p style="margin-top: 1rem;">–í–∞—à–∞ –∑–∞–¥–∞—á–∞: <span class="highlight">—É–ø—Ä–∞–≤–ª—è—Ç—å –±—é–¥–∂–µ—Ç–æ–º –≤ ‚ÇΩ1,000,000</span> –∏ –ø—Ä–∏–Ω–∏–º–∞—Ç—å —Ä–µ—à–µ–Ω–∏—è –ø–æ –∫–∏–±–µ—Ä–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –Ω–∞ –∫–∞–∂–¥—ã–π –∫–≤–∞—Ä—Ç–∞–ª. 
                    –ö–∞–∂–¥–æ–µ —Ä–µ—à–µ–Ω–∏–µ –≤–ª–∏—è–µ—Ç –Ω–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å, —Ä–µ–ø—É—Ç–∞—Ü–∏—é –∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∫–æ–º–ø–∞–Ω–∏–∏.</p>
                    
                    <p style="margin-top: 1rem; color: var(--accent-yellow);"><i class="fas fa-lightbulb"></i> –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∑–Ω–∞–Ω–∏—è –∏–∑ –º–æ–¥—É–ª—è: —Ç—Ä–∏–∞–¥–∞ CIA, –ø—Ä–∏–Ω—Ü–∏–ø –Ω–∞–∏–º–µ–Ω—å—à–∏—Ö –ø—Ä–∏–≤–∏–ª–µ–≥–∏–π, –∑–∞—â–∏—Ç–∞ –≤ –≥–ª—É–±–∏–Ω—É, —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–∏—Å–∫–∞–º–∏ –ø–æ NIST CSF.</p>
                </div>

                <!-- Current Quarter Decisions -->
                <h3 style="color: var(--accent-orange); margin: 1.5rem 0 1rem; font-family: 'Orbitron';">–†–ï–®–ï–ù–ò–Ø –î–õ–Ø –ö–í–ê–†–¢–ê–õ–ê <span id="currentQuarter">1</span></h3>
                <p style="color: var(--text-gray); margin-bottom: 1.5rem;">–í—ã–±–µ—Ä–∏—Ç–µ 2 —Ä–µ—à–µ–Ω–∏—è –¥–ª—è –∏–Ω–≤–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è (–±—é–¥–∂–µ—Ç: <span id="availableBudget">‚ÇΩ1,000,000</span>)</p>

                <div class="decisions-grid" id="decisionsContainer">
                    <!-- Decisions will be generated here -->
                </div>

                <!-- CIA Analysis Tool -->
                <div class="analysis-tool" id="analysisTool">
                    <h3 class="analysis-title"><i class="fas fa-chart-line"></i> –ê–ù–ê–õ–ò–ó –í–õ–ò–Ø–ù–ò–Ø –ù–ê –¢–†–ò–ê–î–£ CIA</h3>
                    
                    <div class="cia-analysis">
                        <div class="cia-item">
                            <div class="cia-label">–ö–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç—å</div>
                            <div class="cia-value cia-confidentiality" id="ciaConfidentiality">0</div>
                        </div>
                        <div class="cia-item">
                            <div class="cia-label">–¶–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç—å</div>
                            <div class="cia-value cia-integrity" id="ciaIntegrity">0</div>
                        </div>
                        <div class="cia-item">
                            <div class="cia-label">–î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å</div>
                            <div class="cia-value cia-availability" id="ciaAvailability">0</div>
                        </div>
                    </div>
                    
                    <div class="analysis-result" id="analysisResult">
                        <strong>–ò–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏—è:</strong> –í–∞—à–∏ —Ç–µ–∫—É—â–∏–µ —Ä–µ—à–µ–Ω–∏—è –ø–æ–∫–∞ –Ω–µ –ø—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω—ã. –í—ã–±–µ—Ä–∏—Ç–µ 2 —Ä–µ—à–µ–Ω–∏—è –∏ –Ω–∞–∂–º–∏—Ç–µ "–ó–∞–≤–µ—Ä—à–∏—Ç—å –∫–≤–∞—Ä—Ç–∞–ª".
                    </div>
                </div>

                <!-- Game Log -->
                <div class="game-log" id="gameLog">
                    <div class="log-entry">
                        <span class="log-time">[Q1]</span>
                        <span class="log-neutral">–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ Techno Corp! –í–∞—à –±—é–¥–∂–µ—Ç: ‚ÇΩ1,000,000</span>
                    </div>
                </div>

                <!-- Action Buttons -->
                <div style="display: flex; gap: 1rem; margin-top: 1.5rem;">
                    <button onclick="analyzeDecisions()" class="form-button" style="background: linear-gradient(45deg, var(--accent-purple), var(--accent-pink));">
                        <i class="fas fa-search"></i> –ê–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Ä–µ—à–µ–Ω–∏—è
                    </button>
                    <button onclick="finishQuarter()" class="form-button" style="background: linear-gradient(45deg, var(--accent-green), var(--accent-neon));">
                        <i class="fas fa-check-circle"></i> –ó–∞–≤–µ—Ä—à–∏—Ç—å –∫–≤–∞—Ä—Ç–∞–ª
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Event Popup -->
    <div class="event-popup" id="eventPopup">
        <div class="event-header">
            <div class="event-icon" id="eventIcon">‚ö†Ô∏è</div>
            <h2 class="event-title" id="eventTitle">–ö–ò–ë–ï–†–ò–ù–¶–ò–î–ï–ù–¢!</h2>
        </div>
        
        <div class="event-description" id="eventDescription">
            –ü—Ä–æ–∏–∑–æ—à–ª–∞ —Å–µ—Ä—å–µ–∑–Ω–∞—è –∞—Ç–∞–∫–∞ –Ω–∞ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—É –∫–æ–º–ø–∞–Ω–∏–∏!
        </div>
        
        <div class="event-consequences" id="eventConsequences">
            <h4>–ü–û–°–õ–ï–î–°–¢–í–ò–Ø:</h4>
            <p>–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å: -20%</p>
            <p>–†–µ–ø—É—Ç–∞—Ü–∏—è: -15%</p>
            <p>–ë—é–¥–∂–µ—Ç: -‚ÇΩ150,000</p>
        </div>
        
        <button onclick="closeEvent()" class="event-button">
            –ü–û–ù–Ø–¢–ù–û
        </button>
    </div>

    <!-- Game Over Screen -->
    <div class="game-over" id="gameOver">
        <div class="game-over-icon">üéÆ</div>
        <h2 class="game-over-title" id="gameOverTitle">–ò–ì–†–ê –ó–ê–í–ï–†–®–ï–ù–ê</h2>
        <div class="game-over-score" id="gameOverScore">–í–∞—à –∏—Ç–æ–≥–æ–≤—ã–π —Å—á–µ—Ç: 0</div>
        <p style="color: var(--text-gray); margin-bottom: 1.5rem;" id="gameOverMessage">
            –ö–æ–º–ø–∞–Ω–∏—è —É—Å–ø–µ—à–Ω–æ –ø—Ä–æ—à–ª–∞ 4 –∫–≤–∞—Ä—Ç–∞–ª–∞ –ø–æ–¥ –≤–∞—à–∏–º —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ–º!
        </p>
        <button onclick="restartGame()" class="restart-button">
            <i class="fas fa-redo"></i> –ù–ê–ß–ê–¢–¨ –ó–ê–ù–û–í–û
        </button>
    </div>

    <!-- Tutorial Overlay -->
    <div class="tutorial-overlay" id="tutorialOverlay">
        <div class="tutorial-box">
            <h2 class="tutorial-title"><i class="fas fa-graduation-cap"></i> –û–ë–£–ß–ï–ù–ò–ï –ò–ì–†–ï</h2>
            
            <div class="tutorial-step">
                <h3 class="step-title"><i class="fas fa-bullseye"></i> –¶–ï–õ–¨ –ò–ì–†–´</h3>
                <p class="step-content">–í—ã —Ä—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª—å –æ—Ç–¥–µ–ª–∞ –∫–∏–±–µ—Ä–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏. –í–∞—à–∞ –∑–∞–¥–∞—á–∞ ‚Äî –ø—Ä–æ–¥–µ—Ä–∂–∞—Ç—å—Å—è 4 –∫–≤–∞—Ä—Ç–∞–ª–∞, –ø—Ä–∏–Ω–∏–º–∞—è –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è –≤ –æ–±–ª–∞—Å—Ç–∏ –∫–∏–±–µ—Ä–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∑–Ω–∞–Ω–∏—è –∏–∑ –º–æ–¥—É–ª—è "–û—Å–Ω–æ–≤—ã –∫–∏–±–µ—Ä–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏".</p>
            </div>
            
            <div class="tutorial-step">
                <h3 class="step-title"><i class="fas fa-chart-bar"></i> –ü–û–ö–ê–ó–ê–¢–ï–õ–ò</h3>
                <p class="step-content">
                    <strong>–ë—é–¥–∂–µ—Ç:</strong> –î–µ–Ω—å–≥–∏ –Ω–∞ –º–µ—Ä—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏<br>
                    <strong>–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:</strong> –ó–∞—â–∏—â–µ–Ω–Ω–æ—Å—Ç—å –∫–æ–º–ø–∞–Ω–∏–∏ –æ—Ç —É–≥—Ä–æ–∑<br>
                    <strong>–†–µ–ø—É—Ç–∞—Ü–∏—è:</strong> –î–æ–≤–µ—Ä–∏–µ –∫–ª–∏–µ–Ω—Ç–æ–≤ –∏ –ø–∞—Ä—Ç–Ω–µ—Ä–æ–≤<br>
                    <strong>–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:</strong> –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å —Ä–∞–±–æ—Ç—ã —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤
                </p>
            </div>
            
            <div class="tutorial-step">
                <h3 class="step-title"><i class="fas fa-chess-board"></i> –ú–ï–•–ê–ù–ò–ö–ê –ò–ì–†–´</h3>
                <p class="step-content">
                    1. –ö–∞–∂–¥—ã–π –∫–≤–∞—Ä—Ç–∞–ª –≤—ã–±–∏—Ä–∞–π—Ç–µ 2 —Ä–µ—à–µ–Ω–∏—è –¥–ª—è –∏–Ω–≤–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è<br>
                    2. –ö–∞–∂–¥–æ–µ —Ä–µ—à–µ–Ω–∏–µ –≤–ª–∏—è–µ—Ç –Ω–∞ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏ –ø–æ-—Ä–∞–∑–Ω–æ–º—É<br>
                    3. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ <strong>–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –∞–Ω–∞–ª–∏–∑–∞ CIA</strong> –¥–ª—è –æ—Ü–µ–Ω–∫–∏ –≤–ª–∏—è–Ω–∏—è –Ω–∞ –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç—å, —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç—å –∏ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å<br>
                    4. –ü–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ –∫–≤–∞—Ä—Ç–∞–ª–∞ –º–æ–∂–µ—Ç –ø—Ä–æ–∏–∑–æ–π—Ç–∏ —Å–ª—É—á–∞–π–Ω–æ–µ —Å–æ–±—ã—Ç–∏–µ<br>
                    5. –ò–≥—Ä–∞ –¥–ª–∏—Ç—Å—è 4 –∫–≤–∞—Ä—Ç–∞–ª–∞
                </p>
            </div>
            
            <div class="tutorial-step">
                <h3 class="step-title"><i class="fas fa-shield-alt"></i> –ü–†–ò–ú–ï–ù–ï–ù–ò–ï –ó–ù–ê–ù–ò–ô</h3>
                <p class="step-content">
                    ‚Ä¢ <strong>–¢—Ä–∏–∞–¥–∞ CIA:</strong> –ë–∞–ª–∞–Ω—Å–∏—Ä—É–π—Ç–µ –º–µ–∂–¥—É –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç—å—é, —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç—å—é –∏ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å—é<br>
                    ‚Ä¢ <strong>–ó–∞—â–∏—Ç–∞ –≤ –≥–ª—É–±–∏–Ω—É:</strong> –°–æ–∑–¥–∞–≤–∞–π—Ç–µ –º–Ω–æ–≥–æ—É—Ä–æ–≤–Ω–µ–≤—É—é –∑–∞—â–∏—Ç—É<br>
                    ‚Ä¢ <strong>–ü—Ä–∏–Ω—Ü–∏–ø –Ω–∞–∏–º–µ–Ω—å—à–∏—Ö –ø—Ä–∏–≤–∏–ª–µ–≥–∏–π:</strong> –û–≥—Ä–∞–Ω–∏—á–∏–≤–∞–π—Ç–µ –¥–æ—Å—Ç—É–ø —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤<br>
                    ‚Ä¢ <strong>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–∏—Å–∫–∞–º–∏:</strong> –ò–Ω–≤–µ—Å—Ç–∏—Ä—É–π—Ç–µ –≤ —Å–∞–º—ã–µ –∫—Ä–∏—Ç–∏—á–Ω—ã–µ –æ–±–ª–∞—Å—Ç–∏
                </p>
            </div>
            
            <div class="tutorial-buttons">
                <button onclick="startGame()" class="tutorial-button primary">
                    <i class="fas fa-play"></i> –ù–ê–ß–ê–¢–¨ –ò–ì–†–£
                </button>
                <button onclick="hideTutorial()" class="tutorial-button secondary">
                    –ü–†–û–ü–£–°–¢–ò–¢–¨
                </button>
            </div>
        </div>
    </div>

    <script>
        // Game State
        let gameState = {
            budget: 1000000,
            security: 50,
            reputation: 100,
            productivity: 100,
            quarter: 1,
            selectedDecisions: [],
            achievements: 0,
            totalScore: 0,
            gameActive: true
        };

        // Available decisions for each quarter
        const decisions = [
            // Quarter 1 - Basic Security
            {
                id: 1,
                title: "–í–Ω–µ–¥—Ä–µ–Ω–∏–µ –º–Ω–æ–≥–æ—Ñ–∞–∫—Ç–æ—Ä–Ω–æ–π –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏",
                description: "–¢—Ä–µ–±–æ–≤–∞—Ç—å MFA –¥–ª—è –≤—Å–µ—Ö —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ –ø—Ä–∏ –¥–æ—Å—Ç—É–ø–µ –∫ –∫–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω—ã–º —Å–∏—Å—Ç–µ–º–∞–º",
                cost: 150000,
                impacts: {
                    security: 15,
                    reputation: 5,
                    productivity: -5,
                    cia: { confidentiality: 20, integrity: 10, availability: 0 }
                },
                tags: ["PoLP", "–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è"]
            },
            {
                id: 2,
                title: "–®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ —Ä–∞–±–æ—á–∏—Ö –Ω–æ—É—Ç–±—É–∫–æ–≤",
                description: "–ü–æ–ª–Ω–æ–µ —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ –¥–∏—Å–∫–æ–≤ –Ω–∞ –≤—Å–µ—Ö –∫–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö",
                cost: 200000,
                impacts: {
                    security: 20,
                    reputation: 8,
                    productivity: -3,
                    cia: { confidentiality: 25, integrity: 5, availability: -5 }
                },
                tags: ["–®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ", "–ö–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç—å"]
            },
            {
                id: 3,
                title: "–û–±—É—á–µ–Ω–∏–µ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤",
                description: "–ü—Ä–æ–≤–µ—Å—Ç–∏ —Ç—Ä–µ–Ω–∏–Ω–≥ –ø–æ –∫–∏–±–µ—Ä–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –¥–ª—è –≤—Å–µ—Ö —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤",
                cost: 80000,
                impacts: {
                    security: 10,
                    reputation: 10,
                    productivity: 5,
                    cia: { confidentiality: 15, integrity: 10, availability: 5 }
                },
                tags: ["–û–±—É—á–µ–Ω–∏–µ", "–°–æ–∑–Ω–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å"]
            },
            {
                id: 4,
                title: "–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∞–Ω—Ç–∏–≤–∏—Ä—É—Å–Ω–æ–≥–æ –ü–û",
                description: "–ü—Ä–∏–æ–±—Ä–µ—Å—Ç–∏ –ª–∏—Ü–µ–Ω–∑–∏–∏ –Ω–∞ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–µ –∞–Ω—Ç–∏–≤–∏—Ä—É—Å–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ",
                cost: 120000,
                impacts: {
                    security: 12,
                    reputation: 3,
                    productivity: 2,
                    cia: { confidentiality: 10, integrity: 15, availability: 5 }
                },
                tags: ["–ó–∞—â–∏—Ç–∞", "–í—Ä–µ–¥–æ–Ω–æ—Å–Ω–æ–µ –ü–û"]
            },
            {
                id: 5,
                title: "–†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö",
                description: "–ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ä–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö",
                cost: 100000,
                impacts: {
                    security: 8,
                    reputation: 5,
                    productivity: 0,
                    cia: { confidentiality: 0, integrity: 20, availability: 15 }
                },
                tags: ["Backup", "–î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å"]
            },
            // Quarter 2 - Advanced Security
            {
                id: 6,
                title: "–í–Ω–µ–¥—Ä–µ–Ω–∏–µ SIEM-—Å–∏—Å—Ç–µ–º—ã",
                description: "–°–∏—Å—Ç–µ–º–∞ –¥–ª—è —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–≥–æ —Å–±–æ—Ä–∞ –∏ –∞–Ω–∞–ª–∏–∑–∞ –ª–æ–≥–æ–≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏",
                cost: 300000,
                impacts: {
                    security: 25,
                    reputation: 10,
                    productivity: -8,
                    cia: { confidentiality: 15, integrity: 20, availability: 10 }
                },
                tags: ["–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥", "NIST Detect"]
            },
            {
                id: 7,
                title: "–ü–µ–Ω—Ç–µ—Å—Ç–∏–Ω–≥ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã",
                description: "–ù–∞–Ω—è—Ç—å —ç—Ç–∏—á–Ω—ã—Ö —Ö–∞–∫–µ—Ä–æ–≤ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∑–∞—â–∏—Ç—ã",
                cost: 250000,
                impacts: {
                    security: 20,
                    reputation: 12,
                    productivity: -5,
                    cia: { confidentiality: 10, integrity: 15, availability: 5 }
                },
                tags: ["–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ", "–û—Ü–µ–Ω–∫–∞ —Ä–∏—Å–∫–æ–≤"]
            },
            {
                id: 8,
                title: "–í–Ω–µ–¥—Ä–µ–Ω–∏–µ DLP-—Å–∏—Å—Ç–µ–º—ã",
                description: "–°–∏—Å—Ç–µ–º–∞ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è —É—Ç–µ—á–µ–∫ –¥–∞–Ω–Ω—ã—Ö",
                cost: 350000,
                impacts: {
                    security: 30,
                    reputation: 15,
                    productivity: -10,
                    cia: { confidentiality: 40, integrity: 10, availability: -5 }
                },
                tags: ["DLP", "–ö–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç—å"]
            },
            {
                id: 9,
                title: "–°–æ–∑–¥–∞–Ω–∏–µ SOC",
                description: "–¶–µ–Ω—Ç—Ä –æ–ø–µ—Ä–∞—Ç–∏–≤–Ω–æ–≥–æ —Ä–µ–∞–≥–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–∞ –∏–Ω—Ü–∏–¥–µ–Ω—Ç—ã",
                cost: 500000,
                impacts: {
                    security: 35,
                    reputation: 20,
                    productivity: -12,
                    cia: { confidentiality: 20, integrity: 25, availability: 15 }
                },
                tags: ["SOC", "NIST Respond"]
            },
            // Quarter 3 - Strategic Security
            {
                id: 10,
                title: "–°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è ISO 27001",
                description: "–í–Ω–µ–¥—Ä–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã –º–µ–Ω–µ–¥–∂–º–µ–Ω—Ç–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω–æ–π –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏",
                cost: 600000,
                impacts: {
                    security: 40,
                    reputation: 30,
                    productivity: -15,
                    cia: { confidentiality: 25, integrity: 30, availability: 20 }
                },
                tags: ["–°—Ç–∞–Ω–¥–∞—Ä—Ç—ã", "–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ"]
            },
            {
                id: 11,
                title: "–ö–∏–±–µ—Ä—Å—Ç—Ä–∞—Ö–æ–≤–∞–Ω–∏–µ",
                description: "–°—Ç—Ä–∞—Ö–æ–≤–∫–∞ –æ—Ç –ø–æ—Å–ª–µ–¥—Å—Ç–≤–∏–π –∫–∏–±–µ—Ä–∏–Ω—Ü–∏–¥–µ–Ω—Ç–æ–≤",
                cost: 200000,
                impacts: {
                    security: 5,
                    reputation: 20,
                    productivity: 0,
                    cia: { confidentiality: 5, integrity: 5, availability: 10 }
                },
                tags: ["–°—Ç—Ä–∞—Ö–æ–≤–∞–Ω–∏–µ", "–†–∏—Å–∫–∏"]
            },
            {
                id: 12,
                title: "–û–±–ª–∞—á–Ω–∞—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å",
                description: "–ú–∏–≥—Ä–∞—Ü–∏—è –∏ –∑–∞—â–∏—Ç–∞ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã –≤ –æ–±–ª–∞–∫–µ",
                cost: 400000,
                impacts: {
                    security: 25,
                    reputation: 15,
                    productivity: 10,
                    cia: { confidentiality: 20, integrity: 20, availability: 25 }
                },
                tags: ["–û–±–ª–∞–∫–æ", "–ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ"]
            }
        ];

        // Random events that can happen
        const events = [
            {
                title: "–ö–ò–ë–ï–†–ò–ù–¶–ò–î–ï–ù–¢: –£–¢–ï–ß–ö–ê –î–ê–ù–ù–´–•",
                description: "–•–∞–∫–µ—Ä—ã –ø–æ–ª—É—á–∏–ª–∏ –¥–æ—Å—Ç—É–ø –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤ —á–µ—Ä–µ–∑ —É—è–∑–≤–∏–º–æ—Å—Ç—å –≤ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏. –î–∞–Ω–Ω—ã–µ 50,000 –∫–ª–∏–µ–Ω—Ç–æ–≤ —Å–∫–æ–º–ø—Ä–æ–º–µ—Ç–∏—Ä–æ–≤–∞–Ω—ã.",
                icon: "üîì",
                consequences: {
                    security: -20,
                    reputation: -25,
                    budget: -200000,
                    message: "–ù–∞—Ä—É—à–µ–Ω–∞ –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç—å! –ù—É–∂–Ω–æ –±—ã–ª–æ –∏–Ω–≤–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –≤ –∑–∞—â–∏—Ç—É –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π."
                }
            },
            {
                title: "–†–ê–°–°–´–õ–ö–ê –í–†–ï–î–û–ù–û–°–ù–û–ì–û –ü–û",
                description: "–°–æ—Ç—Ä—É–¥–Ω–∏–∫ –æ—Ç–∫—Ä—ã–ª —Ñ–∏—à–∏–Ω–≥–æ–≤–æ–µ –ø–∏—Å—å–º–æ, –∫–æ—Ç–æ—Ä–æ–µ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–∏–ª–æ ransomware –ø–æ —Å–µ—Ç–∏. –ß–∞—Å—Ç—å —Å–µ—Ä–≤–µ—Ä–æ–≤ –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–∞.",
                icon: "ü¶†",
                consequences: {
                    security: -15,
                    reputation: -20,
                    productivity: -30,
                    budget: -150000,
                    message: "–ù–∞—Ä—É—à–µ–Ω–∞ —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö! –¢—Ä–µ–±—É–µ—Ç—Å—è —É–ª—É—á—à–∏—Ç—å –æ–±—É—á–µ–Ω–∏–µ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ –∏ –∞–Ω—Ç–∏–≤–∏—Ä—É—Å–Ω—É—é –∑–∞—â–∏—Ç—É."
                }
            },
            {
                title: "DDoS –ê–¢–ê–ö–ê",
                description: "–ó–ª–æ—É–º—ã—à–ª–µ–Ω–Ω–∏–∫–∏ –∞—Ç–∞–∫–æ–≤–∞–ª–∏ –≤–∞—à –æ—Å–Ω–æ–≤–Ω–æ–π —Å–∞–π—Ç –∏ API. –°–µ—Ä–≤–∏—Å—ã –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã 8 —á–∞—Å–æ–≤.",
                icon: "üåê",
                consequences: {
                    security: -10,
                    reputation: -30,
                    productivity: -40,
                    budget: -100000,
                    message: "–ù–∞—Ä—É—à–µ–Ω–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å! –ù–µ–æ–±—Ö–æ–¥–∏–º—ã DDoS-–∑–∞—â–∏—Ç–∞ –∏ –ø–ª–∞–Ω—ã –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è."
                }
            },
            {
                title: "–ò–ù–°–ê–ô–î–ï–†–°–ö–ê–Ø –£–ì–†–û–ó–ê",
                description: "–£–≤–æ–ª–µ–Ω–Ω—ã–π —Å–æ—Ç—Ä—É–¥–Ω–∏–∫ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–ª –∏—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥ –ø—Ä–æ–µ–∫—Ç–æ–≤ –ø–µ—Ä–µ–¥ —É—Ö–æ–¥–æ–º –∏ –ø—ã—Ç–∞–µ—Ç—Å—è –µ–≥–æ –ø—Ä–æ–¥–∞—Ç—å –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–∞–º.",
                icon: "üë§",
                consequences: {
                    security: -25,
                    reputation: -15,
                    budget: -180000,
                    message: "–ü—Ä–∏–Ω—Ü–∏–ø –Ω–∞–∏–º–µ–Ω—å—à–∏—Ö –ø—Ä–∏–≤–∏–ª–µ–≥–∏–π! –°–æ—Ç—Ä—É–¥–Ω–∏–∫–∏ –¥–æ–ª–∂–Ω—ã –∏–º–µ—Ç—å –¥–æ—Å—Ç—É–ø —Ç–æ–ª—å–∫–æ –∫ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–º –¥–∞–Ω–Ω—ã–º."
                }
            },
            {
                title: "–£–°–ü–ï–®–ù–ê–Ø –ó–ê–©–ò–¢–ê",
                description: "–í–∞—à–∏ –º–µ—Ä—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—Ç–∏–ª–∏ —Å–µ—Ä—å–µ–∑–Ω—É—é –∞—Ç–∞–∫—É! SIEM-—Å–∏—Å—Ç–µ–º–∞ –≤–æ–≤—Ä–µ–º—è –æ–±–Ω–∞—Ä—É–∂–∏–ª–∞ –ø–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω—É—é –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å.",
                icon: "üõ°Ô∏è",
                consequences: {
                    security: 10,
                    reputation: 15,
                    budget: 0,
                    message: "–û—Ç–ª–∏—á–Ω–∞—è —Ä–∞–±–æ—Ç–∞! –ó–∞—â–∏—Ç–∞ –≤ –≥–ª—É–±–∏–Ω—É —Å—Ä–∞–±–æ—Ç–∞–ª–∞."
                }
            }
        ];

        // Initialize game
        function initGame() {
            updateUI();
            generateDecisions();
            showTutorial();
        }

        // Update UI with current game state
        function updateUI() {
            // Update stat values
            document.getElementById('budgetValue').textContent = `‚ÇΩ ${gameState.budget.toLocaleString()}`;
            document.getElementById('securityValue').textContent = `${gameState.security}%`;
            document.getElementById('reputationValue').textContent = `${gameState.reputation}%`;
            document.getElementById('productivityValue').textContent = `${gameState.productivity}%`;
            document.getElementById('quarterValue').textContent = `Q${gameState.quarter}`;
            document.getElementById('achievementsValue').textContent = `${gameState.achievements}/5`;
            document.getElementById('currentQuarter').textContent = gameState.quarter;
            document.getElementById('availableBudget').textContent = `‚ÇΩ${gameState.budget.toLocaleString()}`;

            // Update progress bars
            document.getElementById('budgetBar').style.width = `${Math.min(100, (gameState.budget / 1000000) * 100)}%`;
            document.getElementById('securityBar').style.width = `${gameState.security}%`;
            document.getElementById('reputationBar').style.width = `${gameState.reputation}%`;
            document.getElementById('productivityBar').style.width = `${gameState.productivity}%`;

            // Update budget bar color based on amount
            const budgetBar = document.getElementById('budgetBar');
            if (gameState.budget < 200000) {
                budgetBar.style.background = 'var(--accent-red)';
            } else if (gameState.budget < 500000) {
                budgetBar.style.background = 'var(--accent-orange)';
            } else {
                budgetBar.style.background = 'var(--accent-green)';
            }
        }

        // Generate decisions for current quarter
        function generateDecisions() {
            const container = document.getElementById('decisionsContainer');
            container.innerHTML = '';
            
            let availableDecisions = [];
            
            if (gameState.quarter === 1) {
                availableDecisions = decisions.slice(0, 5);
            } else if (gameState.quarter === 2) {
                availableDecisions = decisions.slice(5, 9);
            } else if (gameState.quarter === 3) {
                availableDecisions = decisions.slice(9, 12);
            } else {
                // Quarter 4 - mix of all
                availableDecisions = [
                    decisions[2],  // Training
                    decisions[4],  // Backup
                    decisions[6],  // Pentesting
                    decisions[10], // ISO 27001
                    decisions[11]  // Cloud security
                ];
            }
            
            availableDecisions.forEach(decision => {
                const card = document.createElement('div');
                card.className = 'decision-card';
                card.dataset.id = decision.id;
                card.onclick = () => selectDecision(decision.id);
                
                // Check if already selected
                const isSelected = gameState.selectedDecisions.includes(decision.id);
                if (isSelected) {
                    card.style.borderColor = 'var(--accent-neon)';
                    card.style.background = 'rgba(57, 255, 20, 0.1)';
                }
                
                // Check if affordable
                const isAffordable = decision.cost <= gameState.budget;
                if (!isAffordable) {
                    card.style.opacity = '0.5';
                    card.style.cursor = 'not-allowed';
                }
                
                card.innerHTML = `
                    <h4 class="decision-title">
                        <i class="fas fa-${isSelected ? 'check-circle' : 'question-circle'}"></i>
                        ${decision.title}
                    </h4>
                    <p class="decision-description">${decision.description}</p>
                    <div class="decision-cost">–°—Ç–æ–∏–º–æ—Å—Ç—å: ‚ÇΩ${decision.cost.toLocaleString()}</div>
                    <div class="decision-impact">
                        ${decision.tags.map(tag => `<span class="impact-tag">${tag}</span>`).join('')}
                    </div>
                    ${isSelected ? '<div style="color: var(--accent-neon); margin-top: 0.5rem; font-size: 0.9rem;"><i class="fas fa-check"></i> –í—ã–±—Ä–∞–Ω–æ</div>' : ''}
                    ${!isAffordable ? '<div style="color: var(--accent-red); margin-top: 0.5rem; font-size: 0.9rem;"><i class="fas fa-exclamation-triangle"></i> –ù–µ —Ö–≤–∞—Ç–∞–µ—Ç –±—é–¥–∂–µ—Ç–∞</div>' : ''}
                `;
                
                container.appendChild(card);
            });
        }

        // Select a decision
        function selectDecision(decisionId) {
            if (!gameState.gameActive) return;
            
            const decision = decisions.find(d => d.id === decisionId);
            if (!decision) return;
            
            // Check if affordable
            if (decision.cost > gameState.budget) {
                addLog(`–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –±—é–¥–∂–µ—Ç–∞ –¥–ª—è "${decision.title}"`, 'negative');
                return;
            }
            
            // Check if already selected
            const index = gameState.selectedDecisions.indexOf(decisionId);
            if (index > -1) {
                // Deselect
                gameState.selectedDecisions.splice(index, 1);
                gameState.budget += decision.cost;
                addLog(`–û—Ç–º–µ–Ω–µ–Ω–æ: ${decision.title}`, 'neutral');
            } else {
                // Check if can select more (max 2)
                if (gameState.selectedDecisions.length >= 2) {
                    addLog('–ú–æ–∂–Ω–æ –≤—ã–±—Ä–∞—Ç—å —Ç–æ–ª—å–∫–æ 2 —Ä–µ—à–µ–Ω–∏—è –∑–∞ –∫–≤–∞—Ä—Ç–∞–ª', 'warning');
                    return;
                }
                
                // Select
                gameState.selectedDecisions.push(decisionId);
                gameState.budget -= decision.cost;
                addLog(`–í—ã–±—Ä–∞–Ω–æ: ${decision.title} (-‚ÇΩ${decision.cost.toLocaleString()})`, 'positive');
            }
            
            updateUI();
            generateDecisions();
        }

        // Analyze decisions using CIA framework
        function analyzeDecisions() {
            if (!gameState.gameActive) return;
            
            const tool = document.getElementById('analysisTool');
            tool.style.display = 'block';
            
            let totalCIA = { confidentiality: 0, integrity: 0, availability: 0 };
            
            gameState.selectedDecisions.forEach(decisionId => {
                const decision = decisions.find(d => d.id === decisionId);
                if (decision) {
                    totalCIA.confidentiality += decision.impacts.cia.confidentiality;
                    totalCIA.integrity += decision.impacts.cia.integrity;
                    totalCIA.availability += decision.impacts.cia.availability;
                }
            });
            
            // Update CIA values
            document.getElementById('ciaConfidentiality').textContent = totalCIA.confidentiality;
            document.getElementById('ciaIntegrity').textContent = totalCIA.integrity;
            document.getElementById('ciaAvailability').textContent = totalCIA.availability;
            
            // Provide analysis
            const resultDiv = document.getElementById('analysisResult');
            let analysis = '';
            
            if (gameState.selectedDecisions.length === 0) {
                analysis = '<strong>–ù–µ—Ç –≤—ã–±—Ä–∞–Ω–Ω—ã—Ö —Ä–µ—à–µ–Ω–∏–π.</strong> –í—ã–±–µ—Ä–∏—Ç–µ 2 —Ä–µ—à–µ–Ω–∏—è –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –∏—Ö –≤–ª–∏—è–Ω–∏—è –Ω–∞ —Ç—Ä–∏–∞–¥—É CIA.';
            } else {
                analysis = `<strong>–ê–Ω–∞–ª–∏–∑ –≤–∞—à–∏—Ö —Ä–µ—à–µ–Ω–∏–π:</strong><br><br>`;
                
                if (totalCIA.confidentiality > totalCIA.integrity && totalCIA.confidentiality > totalCIA.availability) {
                    analysis += '‚Ä¢ <span style="color: var(--accent-purple)">–û—Å–Ω–æ–≤–Ω–æ–π —Ñ–æ–∫—É—Å –Ω–∞ –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏</span> ‚Äî —Ö–æ—Ä–æ—à–æ –¥–ª—è –∑–∞—â–∏—Ç—ã –¥–∞–Ω–Ω—ã—Ö<br>';
                }
                if (totalCIA.integrity > totalCIA.confidentiality && totalCIA.integrity > totalCIA.availability) {
                    analysis += '‚Ä¢ <span style="color: var(--accent-yellow)">–û—Å–Ω–æ–≤–Ω–æ–π —Ñ–æ–∫—É—Å –Ω–∞ —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç–∏</span> ‚Äî —Ö–æ—Ä–æ—à–æ –¥–ª—è –∑–∞—â–∏—Ç—ã –æ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–π<br>';
                }
                if (totalCIA.availability > totalCIA.confidentiality && totalCIA.availability > totalCIA.integrity) {
                    analysis += '‚Ä¢ <span style="color: var(--accent-green)">–û—Å–Ω–æ–≤–Ω–æ–π —Ñ–æ–∫—É—Å –Ω–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏</span> ‚Äî —Ö–æ—Ä–æ—à–æ –¥–ª—è –±–∏–∑–Ω–µ—Å-–Ω–µ–ø—Ä–µ—Ä—ã–≤–Ω–æ—Å—Ç–∏<br>';
                }
                
                // Check balance
                const maxDiff = Math.max(
                    Math.abs(totalCIA.confidentiality - totalCIA.integrity),
                    Math.abs(totalCIA.confidentiality - totalCIA.availability),
                    Math.abs(totalCIA.integrity - totalCIA.availability)
                );
                
                if (maxDiff > 30) {
                    analysis += '<br><span style="color: var(--accent-orange)">‚ö†Ô∏è –î–∏—Å–±–∞–ª–∞–Ω—Å –≤ —Ç—Ä–∏–∞–¥–µ CIA!</span> –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –±–æ–ª–µ–µ —Å–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–æ–¥—Ö–æ–¥.';
                } else if (maxDiff < 10) {
                    analysis += '<br><span style="color: var(--accent-green)">‚úì –û—Ç–ª–∏—á–Ω—ã–π –±–∞–ª–∞–Ω—Å –≤ —Ç—Ä–∏–∞–¥–µ CIA!</span>';
                }
                
                // NIST CSF alignment
                const selectedDecisions = gameState.selectedDecisions.map(id => decisions.find(d => d.id === id));
                const hasProtect = selectedDecisions.some(d => d.tags.includes('–ó–∞—â–∏—Ç–∞') || d.tags.includes('–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è'));
                const hasDetect = selectedDecisions.some(d => d.tags.includes('–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥') || d.tags.includes('NIST Detect'));
                const hasRespond = selectedDecisions.some(d => d.tags.includes('SOC') || d.tags.includes('NIST Respond'));
                
                analysis += '<br><br><strong>–°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ NIST CSF:</strong><br>';
                if (hasProtect) analysis += '‚úì –§—É–Ω–∫—Ü–∏—è PROTECT –ø–æ–∫—Ä—ã—Ç–∞<br>';
                if (hasDetect) analysis += '‚úì –§—É–Ω–∫—Ü–∏—è DETECT –ø–æ–∫—Ä—ã—Ç–∞<br>';
                if (hasRespond) analysis += '‚úì –§—É–Ω–∫—Ü–∏—è RESPOND –ø–æ–∫—Ä—ã—Ç–∞<br>';
                if (!hasProtect && !hasDetect && !hasRespond) {
                    analysis += '‚ö†Ô∏è –†–∞—Å—Å–º–æ—Ç—Ä–∏—Ç–µ —Ä–µ—à–µ–Ω–∏—è, —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ —Ä–∞–∑–Ω—ã–º —Ñ—É–Ω–∫—Ü–∏—è–º NIST CSF';
                }
            }
            
            resultDiv.innerHTML = analysis;
            
            // Scroll to analysis
            tool.scrollIntoView({ behavior: 'smooth' });
        }

        // Finish current quarter
        function finishQuarter() {
            if (!gameState.gameActive) return;
            
            if (gameState.selectedDecisions.length !== 2) {
                addLog('–ù—É–∂–Ω–æ –≤—ã–±—Ä–∞—Ç—å —Ä–æ–≤–Ω–æ 2 —Ä–µ—à–µ–Ω–∏—è –ø–µ—Ä–µ–¥ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ–º –∫–≤–∞—Ä—Ç–∞–ª–∞', 'warning');
                return;
            }
            
            // Apply impacts of selected decisions
            gameState.selectedDecisions.forEach(decisionId => {
                const decision = decisions.find(d => d.id === decisionId);
                if (decision) {
                    gameState.security = Math.max(0, Math.min(100, gameState.security + decision.impacts.security));
                    gameState.reputation = Math.max(0, Math.min(100, gameState.reputation + decision.impacts.reputation));
                    gameState.productivity = Math.max(0, Math.min(100, gameState.productivity + decision.impacts.productivity));
                    
                    addLog(`–í–ª–∏—è–Ω–∏–µ ${decision.title}: –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å ${decision.impacts.security > 0 ? '+' : ''}${decision.impacts.security}%, –†–µ–ø—É—Ç–∞—Ü–∏—è ${decision.impacts.reputation > 0 ? '+' : ''}${decision.impacts.reputation}%`, 'positive');
                }
            });
            
            // Check achievements
            checkAchievements();
            
            // Random event (30% chance)
            if (Math.random() < 0.3) {
                triggerRandomEvent();
            }
            
            // Move to next quarter
            gameState.quarter++;
            gameState.selectedDecisions = [];
            
            // Update UI
            updateUI();
            generateDecisions();
            
            // Hide analysis tool
            document.getElementById('analysisTool').style.display = 'none';
            
            // Add quarter log
            addLog(`‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ`, 'neutral');
            addLog(`–ö–í–ê–†–¢–ê–õ ${gameState.quarter - 1} –ó–ê–í–ï–†–®–ï–ù. –ù–∞—á–∏–Ω–∞–µ—Ç—Å—è –∫–≤–∞—Ä—Ç–∞–ª ${gameState.quarter}`, 'warning');
            
            // Check game end
            if (gameState.quarter > 4) {
                endGame();
            }
        }

        // Trigger random event
        function triggerRandomEvent() {
            const event = events[Math.floor(Math.random() * events.length)];
            
            document.getElementById('eventIcon').textContent = event.icon;
            document.getElementById('eventTitle').textContent = event.title;
            document.getElementById('eventDescription').textContent = event.description;
            
            let consequencesHtml = '<h4>–ü–û–°–õ–ï–î–°–¢–í–ò–Ø:</h4>';
            if (event.consequences.security) {
                consequencesHtml += `<p>–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å: ${event.consequences.security > 0 ? '+' : ''}${event.consequences.security}%</p>`;
                gameState.security = Math.max(0, Math.min(100, gameState.security + event.consequences.security));
            }
            if (event.consequences.reputation) {
                consequencesHtml += `<p>–†–µ–ø—É—Ç–∞—Ü–∏—è: ${event.consequences.reputation > 0 ? '+' : ''}${event.consequences.reputation}%</p>`;
                gameState.reputation = Math.max(0, Math.min(100, gameState.reputation + event.consequences.reputation));
            }
            if (event.consequences.productivity) {
                consequencesHtml += `<p>–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å: ${event.consequences.productivity > 0 ? '+' : ''}${event.consequences.productivity}%</p>`;
                gameState.productivity = Math.max(0, Math.min(100, gameState.productivity + event.consequences.productivity));
            }
            if (event.consequences.budget) {
                consequencesHtml += `<p>–ë—é–¥–∂–µ—Ç: ${event.consequences.budget > 0 ? '+' : '-'}‚ÇΩ${Math.abs(event.consequences.budget).toLocaleString()}</p>`;
                gameState.budget = Math.max(0, gameState.budget + event.consequences.budget);
            }
            consequencesHtml += `<p style="color: var(--accent-yellow); margin-top: 0.5rem;"><i class="fas fa-lightbulb"></i> ${event.consequences.message}</p>`;
            
            document.getElementById('eventConsequences').innerHTML = consequencesHtml;
            
            // Show event popup
            document.getElementById('eventPopup').style.display = 'block';
            
            // Add to log
            addLog(`–°–û–ë–´–¢–ò–ï: ${event.title}`, 'negative');
            
            updateUI();
        }

        // Close event popup
        function closeEvent() {
            document.getElementById('eventPopup').style.display = 'none';
        }

        // Check and award achievements
        function checkAchievements() {
            const newAchievements = [];
            
            // Achievement 1: Perfect security
            if (gameState.security >= 90 && gameState.achievements < 1) {
                newAchievements.push("–ò–¥–µ–∞–ª—å–Ω–∞—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å");
                gameState.achievements++;
            }
            
            // Achievement 2: High reputation
            if (gameState.reputation >= 90 && gameState.achievements < 2) {
                newAchievements.push("–ë–µ–∑—É–ø—Ä–µ—á–Ω–∞—è —Ä–µ–ø—É—Ç–∞—Ü–∏—è");
                gameState.achievements++;
            }
            
            // Achievement 3: Good budget management
            if (gameState.budget >= 500000 && gameState.quarter >= 3 && gameState.achievements < 3) {
                newAchievements.push("–≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–π –±—é–¥–∂–µ—Ç");
                gameState.achievements++;
            }
            
            // Achievement 4: Balanced CIA
            const currentDecisions = gameState.selectedDecisions.map(id => decisions.find(d => d.id === id));
            let ciaTotal = { c: 0, i: 0, a: 0 };
            currentDecisions.forEach(d => {
                ciaTotal.c += d.impacts.cia.confidentiality;
                ciaTotal.i += d.impacts.cia.integrity;
                ciaTotal.a += d.impacts.cia.availability;
            });
            
            const maxDiff = Math.max(
                Math.abs(ciaTotal.c - ciaTotal.i),
                Math.abs(ciaTotal.c - ciaTotal.a),
                Math.abs(ciaTotal.i - ciaTotal.a)
            );
            
            if (maxDiff <= 15 && gameState.achievements < 4) {
                newAchievements.push("–ë–∞–ª–∞–Ω—Å —Ç—Ä–∏–∞–¥—ã CIA");
                gameState.achievements++;
            }
            
            // Achievement 5: Survived all quarters
            if (gameState.quarter === 4 && gameState.achievements < 5) {
                newAchievements.push("–í—ã–∂–∏–≤–∞–Ω–∏–µ");
                gameState.achievements++;
            }
            
            // Award achievements
            newAchievements.forEach(achievement => {
                addLog(`üèÜ –î–û–°–¢–ò–ñ–ï–ù–ò–ï: ${achievement}`, 'positive');
            });
            
            updateUI();
        }

        // End game
        function endGame() {
            gameState.gameActive = false;
            
            // Calculate final score
            let finalScore = 0;
            finalScore += gameState.security * 10;
            finalScore += gameState.reputation * 8;
            finalScore += gameState.productivity * 5;
            finalScore += gameState.budget / 1000;
            finalScore += gameState.achievements * 1000;
            
            gameState.totalScore = Math.round(finalScore);
            
            // Determine result
            let title = "–ò–ì–†–ê –ó–ê–í–ï–†–®–ï–ù–ê";
            let message = "";
            
            if (gameState.security < 30) {
                title = "–ö–ê–¢–ê–°–¢–†–û–§–ê!";
                message = "–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∫–æ–º–ø–∞–Ω–∏–∏ –ø–æ–ª–Ω–æ—Å—Ç—å—é –ø—Ä–æ–≤–∞–ª–µ–Ω–∞. –†–µ–≥—É–ª—è—Ç–æ—Ä—ã –æ—à—Ç—Ä–∞—Ñ–æ–≤–∞–ª–∏ –∫–æ–º–ø–∞–Ω–∏—é –Ω–∞ –º–∏–ª–ª–∏–æ–Ω—ã.";
            } else if (gameState.reputation < 30) {
                title = "–ü–û–¢–ï–†–Ø –î–û–í–ï–†–ò–Ø";
                message = "–ö–ª–∏–µ–Ω—Ç—ã –º–∞—Å—Å–æ–≤–æ —É—à–ª–∏ –∫ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–∞–º –∏–∑-–∑–∞ –ø—Ä–æ–±–ª–µ–º —Å –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å—é.";
            } else if (gameState.budget < 10000) {
                title = "–ë–ê–ù–ö–†–û–¢–°–¢–í–û";
                message = "–ó–∞–∫–æ–Ω—á–∏–ª—Å—è –±—é–¥–∂–µ—Ç –Ω–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å. –ö–æ–º–ø–∞–Ω–∏—è –Ω–µ —Å–º–æ–≥–ª–∞ –æ—Ç—Ä–∞–∑–∏—Ç—å –∞—Ç–∞–∫–∏.";
            } else if (finalScore > 5000) {
                title = "–ë–õ–ï–°–¢–Ø–©–ê–Ø –ü–û–ë–ï–î–ê!";
                message = "–í—ã —Å–æ–∑–¥–∞–ª–∏ –æ–¥–Ω—É –∏–∑ —Å–∞–º—ã—Ö –∑–∞—â–∏—â–µ–Ω–Ω—ã—Ö –∫–æ–º–ø–∞–Ω–∏–π –≤ –∏–Ω–¥—É—Å—Ç—Ä–∏–∏! –ê–∫—Ü–∏–∏ –∫–æ–º–ø–∞–Ω–∏–∏ –≤—ã—Ä–æ—Å–ª–∏ –Ω–∞ 300%.";
            } else if (finalScore > 3000) {
                title = "–£–°–ü–ï–•!";
                message = "–ö–æ–º–ø–∞–Ω–∏—è —É—Å–ø–µ—à–Ω–æ –ø—Ä–æ—à–ª–∞ 4 –∫–≤–∞—Ä—Ç–∞–ª–∞ –ø–æ–¥ –≤–∞—à–∏–º —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ–º! –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –Ω–∞ —Ö–æ—Ä–æ—à–µ–º —É—Ä–æ–≤–Ω–µ.";
            } else {
                title = "–í–´–ñ–ò–õ–ò";
                message = "–ö–æ–º–ø–∞–Ω–∏—è –ø–µ—Ä–µ–∂–∏–ª–∞ 4 –∫–≤–∞—Ä—Ç–∞–ª–∞, –Ω–æ –µ—Å—Ç—å –Ω–∞–¥ —á–µ–º —Ä–∞–±–æ—Ç–∞—Ç—å. –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å —Ç—Ä–µ–±—É–µ—Ç —É–ª—É—á—à–µ–Ω–∏–π.";
            }
            
            // Show game over screen
            document.getElementById('gameOverTitle').textContent = title;
            document.getElementById('gameOverScore').textContent = `–í–∞—à –∏—Ç–æ–≥–æ–≤—ã–π —Å—á–µ—Ç: ${gameState.totalScore.toLocaleString()}`;
            document.getElementById('gameOverMessage').textContent = message;
            document.getElementById('gameOver').style.display = 'block';
            
            addLog("‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê", "neutral");
            addLog(`–ò–ì–†–ê –ó–ê–í–ï–†–®–ï–ù–ê. –ò—Ç–æ–≥–æ–≤—ã–π —Å—á–µ—Ç: ${gameState.totalScore.toLocaleString()}`, "warning");
        }

        // Add entry to game log
        function addLog(message, type = 'neutral') {
            const log = document.getElementById('gameLog');
            const entry = document.createElement('div');
            entry.className = 'log-entry';
            
            const time = new Date().toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'});
            const typeClass = `log-${type}`;
            
            entry.innerHTML = `<span class="log-time">[${time}]</span> <span class="${typeClass}">${message}</span>`;
            
            log.appendChild(entry);
            log.scrollTop = log.scrollHeight;
        }

        // Show tutorial
        function showTutorial() {
            document.getElementById('tutorialOverlay').style.display = 'flex';
        }

        // Hide tutorial
        function hideTutorial() {
            document.getElementById('tutorialOverlay').style.display = 'none';
        }

        // Start game (from tutorial)
        function startGame() {
            hideTutorial();
            addLog("–ò–≥—Ä–∞ –Ω–∞—á–∞–ª–∞—Å—å! –í–∞—à–∞ –∑–∞–¥–∞—á–∞ ‚Äî –ø—Ä–æ–¥–µ—Ä–∂–∞—Ç—å—Å—è 4 –∫–≤–∞—Ä—Ç–∞–ª–∞.", "positive");
            addLog("–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∑–Ω–∞–Ω–∏—è –∏–∑ –º–æ–¥—É–ª—è: —Ç—Ä–∏–∞–¥–∞ CIA, –∑–∞—â–∏—Ç–∞ –≤ –≥–ª—É–±–∏–Ω—É, —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–∏—Å–∫–∞–º–∏.", "neutral");
        }

        // Restart game
        function restartGame() {
            // Reset game state
            gameState = {
                budget: 1000000,
                security: 50,
                reputation: 100,
                productivity: 100,
                quarter: 1,
                selectedDecisions: [],
                achievements: 0,
                totalScore: 0,
                gameActive: true
            };
            
            // Clear log
            document.getElementById('gameLog').innerHTML = `
                <div class="log-entry">
                    <span class="log-time">[Q1]</span>
                    <span class="log-neutral">–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ Techno Corp! –í–∞—à –±—é–¥–∂–µ—Ç: ‚ÇΩ1,000,000</span>
                </div>
            `;
            
            // Hide popups
            document.getElementById('eventPopup').style.display = 'none';
            document.getElementById('gameOver').style.display = 'none';
            document.getElementById('analysisTool').style.display = 'none';
            
            // Update UI
            updateUI();
            generateDecisions();
            
            addLog("–ù–æ–≤–∞—è –∏–≥—Ä–∞ –Ω–∞—á–∞–ª–∞—Å—å!", "positive");
        }

        // Initialize game on load
        window.onload = initGame;
    </script>
</body>
</html>